\documentclass[10pt]{article}

\usepackage{amsmath}
\usepackage{textcomp}
\usepackage[top=0.8in, bottom=0.8in, left=0.8in, right=0.8in]{geometry}
% Add other packages here %
%\usepackage{algorithm}
%\usepackage{algpseudocode}
\usepackage{changepage}
\usepackage{float}
\usepackage[pdftex]{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[font=scriptsize]{subcaption}
\usepackage[font=scriptsize]{caption}

% Put your group number and names in the author field %
\title{\bf Excercise 4\\ Implementing a centralized agent}
\author{Group \textnumero 23: Jean-Thomas Furrer, Emily Hentgen}

% N.B.: The report should not be longer than 3 pages %


\begin{document}
\maketitle

\section{Solution Representation}

\subsection{Variables}
% Describe the variables used in your solution representation %
We use two variables for representing a plan resulting from the Stochastic Local Search (SLS) algorithm:
\begin{itemize}
\item[]Map\textless Vehicle, TaskAction\textgreater\ \textit{vehicleToFirstTaskAction}: maps a vehicle to the first task action it has to perform (necessarily a pick up, may be \texttt{null} if the vehicle picks up no task at all)
\item[]Map\textless TaskAction, TaskAction\textgreater\ \textit{taskActionToTaskAction}: maps a task action to the next task action performed by the same vehicle; used jointly with \textit{vehicleToFirstTaskAction} in order to know which vehicle handles which set of tasks
\end{itemize}

%unlike PDP where each vehicle carries one task at a time, cannot used only Task, because need to differentiate between pickup and delivery


\subsection{Constraints}
% Describe the constraints in your solution representation %
%todo: change X to effective (final) number of constraints
We (explicitly) enforce X constraints:
\begin{itemize}
\item[--] The load of each vehicle must not exceed its capacity.
\item[--] The delivery of a task cannot happen before the pickup of this same task.
\end{itemize}
% + all tasks must be delivered, ... (enforced by the design of the SLS algorithm)

\subsection{Objective function}
% Describe the function that you optimize %
The objective function we optimize is the total travel cost resulting from all pickups and deliveries of all vehicles.

\section{Stochastic optimization}

\subsection{Initial solution}
% Describe how you generate the initial solution %

One possible initial solution consists of assigning all tasks to the vehicle with the largest capacity, in any order. This allows to check the problem is actually solvable: if the weight of the heaviest task exceeds the capacity of the largest vehicle, then there is no solution to this pick up and delivery problem.

In \textbf{vehicleToFirstTaskAction}, we add an entry mapping the largest vehicle to a any task pickup, and map all the other vehicles to the \texttt{null} value.
In \textbf{taskActionToTaskAction}, we begin by mapping the first task pickup to its corresponding task delivery. We then map this task delivery to any the pickup of any task in the set of remaining tasks, map the latter task pickup to its corresponding task delivery and so on.
Each time a task is selected, we remove it from the set of remaining tasks: the mapping \textbf{taskActionToTaskAction} is complete once the set of remaining tasks is empty.

\subsection{Generating neighbours}
% Describe how you generate neighbors %

We use almost the same two transformations as in the Pick Up and Delivery Problem where each vehicle can carry only one task at a time: a neighbour plan can either be generated by swapping the order of two tasks for the same vehicle, or by giving the first task of one vehicle to another.

We firstly generate a potential neighbour plan without enforcing the constraints. It is only once it has been generated that we check whether the constraints are respected: if this is the case, we add it to the set of neighbouring plans, otherwise, we discard it.

\subsection{Stochastic optimization algorithm}
% Describe your stochastic optimization algorithm %

\section{Results}

\subsection{Experiment 1: Model parameters}
% if your model has parameters, perform an experiment and analyze the results for different parameter values %

\subsubsection{Setting}
% Describe the settings of your experiment: topology, task configuration, number of tasks, number of vehicles, etc. %
% and the parameters you are analyzing %

\subsubsection{Observations}
% Describe the experimental results and the conclusions you inferred from these results %

\subsection{Experiment 2: Different configurations}
% Run simulations for different configurations of the environment (i.e. different tasks and number of vehicles) %

\subsubsection{Setting}
% Describe the settings of your experiment: topology, task configuration, number of tasks, number of vehicles, etc. %

\subsubsection{Observations}
% Describe the experimental results and the conclusions you inferred from these results %
% Reflect on the fairness of the optimal plans. Observe that optimality requires some vehicles to do more work than others. %
% How does the complexity of your algorithm depend on the number of vehicles and various sizes of the task set? %

\end{document}